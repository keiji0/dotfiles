#!/bin/bash

DEFAULT="\[\033[0m\]"    # default
BLACK="\[\033[0;30m\]"    # black
RED="\[\033[0;31m\]"    # red
GREEN="\[\033[0;32m\]"    # green
YELLOW="\[\033[0;33m\]"    # yellow
BLUE="\[\033[0;34m\]"    # blue
MAGENTA="\[\033[0;35m\]"    # magenta
CYAN="\[\033[0;36m\]"    # cyan
WHITE="\[\033[0;37m\]"    # white

_has(){ which "$1" > /dev/null; }
_load(){ [ -f "$1" ] && . "$1"; }

function cdls(){
	\cd $1
	
	# display ls
	if [ 150 -le $(ls | wc -l) ]; then
		ls | fmt -w 100 | head -n 5
		echo '...'
		ls | fmt -w 100 | tail -n 5
		echo "$(ls |wc -l ) files exist"
	elif [ 25 -ge $(ls | wc -l) ]; then
		ls -v -F -l --color=auto
	else 
		ls -v -F --color=auto
	fi
	# ウィンドウごとの現在ディレクトリを変数に保存
	[[ -n $TMUX ]] && tmux setenv TMUXPWD_$(tmux display -p "#I") "$PWD"
	# ウィンドウの名前を変更
	[[ -n $TMUX ]] && tmux rename-window "$(basename "$PWD")"
}
